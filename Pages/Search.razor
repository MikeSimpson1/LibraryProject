@page "/search"

<PageTitle>Search</PageTitle>

@using LibraryApplication.Data
@inject BookService bookService
<style>
    .card {
        /* Add shadows to create the "card" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        width: 200px;
        padding: 5px 5px;
    }

        /* On mouse-over, add a deeper shadow */
        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
        }

    /* Add some padding inside the card container */
    .container {
        padding: 0px 0px;
    }

    .img {
        width: 128px;
        height: 185px;
    }
</style>
<h1>Search</h1>

<p>This component demonstrates fetching data from a service.</p>

@if (data == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="row">
    @foreach (BookData b in data)
    {
            <div class="card">
                <img src="@b.ImageLink" alt="Cover" style="width:128px;height:185px">
                <div class="container">
                    <h4><b>@b.Title</b></h4>
                    <p>@b.Author</p>
                    <p>@b.PublishedDate</p>
                </div>
            </div>
    }
    </div>
}

@code {
    private List<BookData>? data;

    protected override async Task OnInitializedAsync()
    {
        data = await bookService.GetBookDataAsync();
    }
}
